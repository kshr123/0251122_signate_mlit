# ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãƒ»çµæœç®¡ç†

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
07_tests/
â”œâ”€â”€ test_data/              # ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_loader.py
â”‚   â””â”€â”€ test_results/       # ãƒ†ã‚¹ãƒˆçµæœ
â”‚       â”œâ”€â”€ .gitkeep
â”‚       â”œâ”€â”€ test_result_YYYYMMDD_HHMMSS.txt
â”‚       â”œâ”€â”€ coverage_YYYYMMDD_HHMMSS.txt
â”‚       â””â”€â”€ latest_result.txt -> test_result_YYYYMMDD_HHMMSS.txt
â”œâ”€â”€ test_utils/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_config.py
â”‚   â””â”€â”€ test_results/
â”œâ”€â”€ test_eda/               # EDAã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_preprocessing/     # å‰å‡¦ç†ã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_features/          # ç‰¹å¾´é‡ã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_models/            # ãƒ¢ãƒ‡ãƒ«ã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_training/          # å­¦ç¿’ã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_evaluation/        # è©•ä¾¡ã®ãƒ†ã‚¹ãƒˆ
â””â”€â”€ .gitignore
```

## ğŸš€ ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
./08_scripts/run_tests.sh

# ç‰¹å®šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
./08_scripts/run_tests.sh test_data
./08_scripts/run_tests.sh test_utils

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šä»˜ã
./08_scripts/run_tests.sh test_data --coverage
./08_scripts/run_tests.sh --coverage  # å…¨ãƒ†ã‚¹ãƒˆ
```

### pytestã‚’ç›´æ¥å®Ÿè¡Œã™ã‚‹å ´åˆ

```bash
# ä»®æƒ³ç’°å¢ƒæœ‰åŠ¹åŒ–
source .venv/bin/activate

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest 07_tests/test_data -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
pytest 07_tests/test_data --cov=04_src --cov-report=term-missing
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœã®ç¢ºèª

### çµæœãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€

å„ãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é…ä¸‹ã®`test_results/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š

```
07_tests/test_data/test_results/
â”œâ”€â”€ test_result_20251123_143052.txt    # ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãçµæœ
â”œâ”€â”€ coverage_20251123_143052.txt       # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
â””â”€â”€ latest_result.txt                  # æœ€æ–°çµæœã¸ã®ãƒªãƒ³ã‚¯
```

### çµæœãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ 

```
================================================================================
ãƒ†ã‚¹ãƒˆå®Ÿè¡Œçµæœ
================================================================================

å®Ÿè¡Œæ—¥æ™‚: 2025-11-23 14:30:52
å¯¾è±¡: 07_tests/test_data
å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰: pytest 07_tests/test_data -v

================================================================================
ãƒ†ã‚¹ãƒˆçµæœ
================================================================================

test_data/test_loader.py::test_load_train_returns_dataframe PASSED     [ 20%]
test_data/test_loader.py::test_load_test_returns_dataframe PASSED      [ 40%]
test_data/test_loader.py::test_load_sample_submit_returns_dataframe PASSED [ 60%]
test_data/test_loader.py::test_load_train_file_not_found PASSED        [ 80%]
test_data/test_loader.py::test_train_test_have_same_columns PASSED     [100%]

========================== 5 passed in 0.23s ===========================

================================================================================
ã‚µãƒãƒª
================================================================================

ãƒ†ã‚¹ãƒˆçŠ¶æ…‹: âœ“ PASSED
å®Ÿè¡Œæ—¥æ™‚: 2025-11-23 14:30:52
çµæœãƒ•ã‚¡ã‚¤ãƒ«: 07_tests/test_data/test_results/test_result_20251123_143052.txt
```

### æœ€æ–°çµæœã®ç¢ºèª

```bash
# æœ€æ–°ã®ãƒ†ã‚¹ãƒˆçµæœã‚’è¡¨ç¤º
cat 07_tests/test_data/test_results/latest_result.txt

# ã‚«ãƒãƒ¬ãƒƒã‚¸çµæœã‚’è¡¨ç¤º
cat 07_tests/test_data/test_results/latest_coverage.txt
```

## ğŸ“ ãƒ†ã‚¹ãƒˆçµæœã®ç®¡ç†ãƒ«ãƒ¼ãƒ«

### Gitç®¡ç†

- âœ… **Gitç®¡ç†ã™ã‚‹**: `test_results/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè‡ªä½“ï¼ˆ`.gitkeep`ï¼‰
- âŒ **Gitç®¡ç†ã—ãªã„**:
  - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãçµæœãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`test_result_*.txt`ï¼‰
  - ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`coverage_*.txt`ï¼‰
  - ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ï¼ˆ`latest_*.txt`ï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

- **ãƒ†ã‚¹ãƒˆçµæœ**: `test_result_YYYYMMDD_HHMMSS.txt`
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: `coverage_YYYYMMDD_HHMMSS.txt`
- **æœ€æ–°ã¸ã®ãƒªãƒ³ã‚¯**: `latest_result.txt`, `latest_coverage.txt`

### ä¿æŒæœŸé–“

- ãƒ†ã‚¹ãƒˆçµæœãƒ•ã‚¡ã‚¤ãƒ«ã¯**ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿**ã§ç®¡ç†
- é‡è¦ãªçµæœã¯æ‰‹å‹•ã§ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¨˜éŒ²
- å®šæœŸçš„ã«å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ï¼ˆ1é€±é–“ä»¥ä¸Šå‰ãªã©ï¼‰

## ğŸ¯ ãƒ†ã‚¹ãƒˆçµæœã®èª­ã¿æ–¹

### æˆåŠŸæ™‚

```
================================================================================
ã‚µãƒãƒª
================================================================================

ãƒ†ã‚¹ãƒˆçŠ¶æ…‹: âœ“ PASSED
å®Ÿè¡Œæ—¥æ™‚: 2025-11-23 14:30:52
çµæœãƒ•ã‚¡ã‚¤ãƒ«: 07_tests/test_data/test_results/test_result_20251123_143052.txt
```

**å¯¾å¿œ**: ç‰¹ã«ãªã—ã€‚é–‹ç™ºã‚’ç¶šè¡Œ

### å¤±æ•—æ™‚

```
================================================================================
ã‚µãƒãƒª
================================================================================

ãƒ†ã‚¹ãƒˆçŠ¶æ…‹: âœ— FAILED
å®Ÿè¡Œæ—¥æ™‚: 2025-11-23 14:30:52
çµæœãƒ•ã‚¡ã‚¤ãƒ«: 07_tests/test_data/test_results/test_result_20251123_143052.txt
```

**å¯¾å¿œ**:
1. çµæœãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’ç¢ºèª
2. å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ç‰¹å®š
3. ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£
4. å†åº¦ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

### ã‚«ãƒãƒ¬ãƒƒã‚¸ã®ç¢ºèª

```
Name                        Stmts   Miss  Cover   Missing
---------------------------------------------------------
04_src/data/loader.py          45      2    96%   78-79
04_src/utils/config.py         38      0   100%
---------------------------------------------------------
TOTAL                          83      2    98%
```

- **Stmts**: å®Ÿè¡Œå¯èƒ½ãªæ–‡ã®æ•°
- **Miss**: å®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸæ–‡ã®æ•°
- **Cover**: ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡
- **Missing**: å®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸè¡Œç•ªå·

**ç›®æ¨™**: å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§80%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸

## ğŸ”„ CI/CDã§ã®åˆ©ç”¨

### GitHub Actionsã®ä¾‹

```yaml
- name: Run tests
  run: |
    ./08_scripts/run_tests.sh --coverage

- name: Upload test results
  uses: actions/upload-artifact@v3
  with:
    name: test-results
    path: 07_tests/**/test_results/latest_*.txt
```

---

**æœ€çµ‚æ›´æ–°**: 2025-11-23
